---
layout: page
title: Examples
permalink: /examples/
---

There's a lot more to D3! This is just a quick tour of some other stuff D3
has to offer.

- [Layouts and SVG Helpers](#layouts-and-svg-helpers)
- [A Pie Chart](#a-pie-chart)

## Layouts and SVG Helpers

Some of these examples make use of D3's layout helpers.

Some layouts convert our original data into descriptions of the shapes we want
to draw. For example, the pie layout converts numbers into arcs (start and end
angles for pie slices). This keeps our drawing code simple. Other
layouts help us group our data so we can draw useful shapes like stacked stacked
or trees.

D3 also provides helpers to make some of the more complex SVG shapes easier to
draw. The path helper can build curves that interolate between data points. The
arc helper can take the angles generated by the pie layout and draw arcs (pie slices).

## A Pie Chart

Let's start out by walking through using D3 to draw a simple pie chart.

First we get our source data:

<div class="ex-exec example-row-1">
  <div class="example example-source">
    {% highlight javascript %}
var sales = [
  { product: 'Hoodie',  count: 12 },
  { product: 'Jacket',  count: 7 },
  { product: 'Snuggie', count: 6 },
];
    {% endhighlight %}
  </div>
</div>

We want each product to be represented as a pie slice in our pie chart, which
involves calculating the associated angles. We'll use the `d3.layout.pie` helper
for that:

<div class="ex-exec example-row-1">
  <div class="example example-source">
    {% highlight javascript %}
var pie = d3.layout.pie()
  .value(function(d) { return d.count })

var slices = pie(sales);
// the result looks roughly like this:
[
  {
    data: sales[0],
    endAngle: 3.0159289474462017,
    startAngle: 0,
    value: 12
  },
  {
    data: slices[1],
    startAngle: 3.0159289474462017,
    endAngle: 4.775220833456486,
    value: 7
  },
  {
    data: slices[2],
    startAngle: 4.775220833456486,
    endAngle: 6.283185307179587,
    value: 6
  }
]
    {% endhighlight %}
  </div>
</div>

Now we have our data in angles (radians), so we can turn them into something
visual. The next tool D3 gives us is the `d3.svg.arc` which helps to create
SVG `<path>` tags for arcs. This is where we provide all the information relevant
to actually drawing, such as the radius size.

<div class="ex-exec example-row-2">
  <div class="example example-source">
    {% highlight javascript %}
var arc = d3.svg.arc()
  .innerRadius(0)
  .outerRadius(50);

// helper that returns a color based on an ID
var color = d3.scale.category10();

var svg = d3.select('svg.pie');
var g = svg.append('g')
  .attr('transform', 'translate(200, 50)')

g.selectAll('path.slice')
  .data(slices)
    .enter()
      .append('path')
        .attr('class', 'slice')
        .attr('d', arc)
        .attr('fill', function(d) {
          return color(d.data.product);
        });

// building a legend is as simple as binding
// more elements to the same data. in this case,
// text tags
svg.append('g')
  .attr('class', 'legend')
    .selectAll('text')
    .data(slices)
      .enter()
        .append('text')
          .text(function(d) { return 'â€¢ ' + d.data.product; })
          .attr('fill', function(d) { return color(d.data.product); })
          .attr('y', function(d, i) { return 15 * (i + 1); })
    {% endhighlight %}
  </div>

  <div class="example">
    <div>
      <svg class="pie" width="300" height="100"></svg>
    </div>

    <div class="info">
      Again, we snuck in a new helper, and it's another type of ordinal scale.
    </div>

    The <kbd>d3.scale.category10</kbd> helper gives us back a function. This function
    takes in values (typically IDs) and gives back a color. The same ID gets the
    same color, and it will rotate through 10 colors that pretty easy to tell
    apart.
  </div>
</div>

<script type="text/javascript" src="{{ "/javascripts/examples.js" | prepend: site.baseurl }}"></script>